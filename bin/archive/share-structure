#!/bin/bash

MONTEREY_SHARE=/Volumes/Monterey

# MS short for Monterey Share not Microsoft :-)
MS_BIN="${MONTEREY_SHARE}/bin"
MS_DRIVERS="${MONTEREY_SHARE}/drivers"
MS_DRIVERS_ARM="${MS_DRIVERS}/ARM"
MS_DRIVERS_INTEL="${MS_DRIVERS}/Intel"
MS_CACHE="${MONTEREY_SHARE}/cache"
MS_CACHE_ARM="${MS_CACHE}/ARM"
MS_CACHE_INTEL="${MS_CACHE}/Intel"
MS_REPOS="${MONTEREY_SHARE}/repos"
MS_REPOS_BREW="${MS_REPOS}/homebrew"
MS_REPOS_CORE="${MS_REPOS}/homebrew-core"
MS_SOFTWARE="${MONTEREY_SHARE}/software"
MS_SOFTWARE_ARM="${MS_SOFTWARE}/ARM"
MS_SOFTWARE_INTEL="${MS_SOFTWARE}/Intel"
MS_SOFTWARE_NOARCH="${MS_SOFTWARE}/Noarch"

# mkdir -p "${MS_BIN}" "${MS_CACHE_ARM}/downloads"            \
#	"${MS_CACHE_INTEL}/downloads" "${MS_REPOS}"           \
#	"${MS_SOFTWARE_ARM}" "${MS_SOFTWARE_INTEL}"           \
#	"${MS_SOFTWARE_NOARCH}" "${MS_DRIVERS_ARM}"           \
#	"${MS_DRIVERS_INTEL}"

git clone https://github.com/Homebrew/homebrew-core.git
git checkout b5b2c1f838a8ea365c859e7bf53ed0745225733b
git remote set-url origin file:///dev/null
# Makes the repository bare, reverse it to shift the detached head (freeze line)
git config --bool core.bare true
